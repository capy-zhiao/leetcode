# 总结

 Python 中常见哈希结构（`dict`、`set`、`Counter`、`defaultdict`）的常用方法和用法总结👇

------

## ✅ `dict`（字典）

字典是键值对的集合，key 必须是不可变类型，value 任意。

### 常用方法：

| 方法                  | 作用              | 示例                    |
| --------------------- | ----------------- | ----------------------- |
| `d[key]`              | 取值              | `d['a']`                |
| `d[key] = value`      | 新增或修改        | `d['a'] = 10`           |
| `d.get(key, default)` | 安全取值          | `d.get('b', 0)`         |
| `d.pop(key)`          | 删除并返回键值    | `d.pop('a')`            |
| `d.keys()`            | 返回所有 key      | `for k in d.keys()`     |
| `d.values()`          | 返回所有 value    | `for v in d.values()`   |
| `d.items()`           | 返回 key-value 对 | `for k, v in d.items()` |
| `key in d`            | 判断 key 是否存在 | `'a' in d`              |
| `len(d)`              | 获取键值对数量    | `len(d)`                |

### 示例：

```python
d = {'a': 1, 'b': 2}
d['c'] = 3
print(d.get('d', 0))  # 输出 0
for k, v in d.items():
    print(k, v)
```

------

## ✅ `set`（集合）

集合是存储**唯一元素**的数据结构，底层也是哈希表。

### 常用方法：

| 方法                           | 作用                   | 示例           |
| ------------------------------ | ---------------------- | -------------- |
| `s.add(x)`                     | 添加元素               | `s.add(3)`     |
| `s.remove(x)`                  | 删除元素，不存在报错   | `s.remove(2)`  |
| `s.discard(x)`                 | 删除元素，不存在不报错 | `s.discard(2)` |
| `s.pop()`                      | 随机删除并返回一个元素 | `s.pop()`      |
| `x in s`                       | 判断元素是否存在       | `3 in s`       |
| `len(s)`                       | 元素数量               | `len(s)`       |
| `s.union(t)` 或 `s             | t`                     | 并集           |
| `s.intersection(t)` 或 `s & t` | 交集                   | `s & t`        |
| `s.difference(t)` 或 `s - t`   | 差集                   | `s - t`        |

### 示例：

```python
s = {1, 2, 3}
s.add(4)
s.discard(2)
print(3 in s)  # True
```

------

## ✅ `collections.Counter`

用于统计元素出现次数（哈希计数器）。

### 常用方法：

| 方法               | 作用                       | 示例                       |
| ------------------ | -------------------------- | -------------------------- |
| `Counter(list)`    | 统计频率                   | `Counter(['a', 'b', 'a'])` |
| `c[key]`           | 获取某元素次数             | `c['a']`                   |
| `c.most_common(n)` | 返回频率最高的 n 个元素    | `c.most_common(2)`         |
| `c.elements()`     | 返回所有元素（按次数重复） | `list(c.elements())`       |

### 示例：

```python
from collections import Counter

c = Counter("banana")
print(c)  # Counter({'a': 3, 'n': 2, 'b': 1})
print(c['a'])  # 3
```

------

## ✅ `collections.defaultdict`

带默认值的字典，避免 `KeyError`。

### 常用方法：

和 `dict` 类似，但你需要传入一个默认类型，如 `int`, `list`, `set`。

### 示例：

```python
from collections import defaultdict

d = defaultdict(int)
d['a'] += 1  # 自动初始化为0再加1

e = defaultdict(list)
e['nums'].append(5)  # 自动初始化为空列表
```

------

## 🧠 建议

| 目标                    | 推荐结构      |
| ----------------------- | ------------- |
| 存键值对                | `dict`        |
| 快速判断是否存在        | `set`         |
| 统计频率                | `Counter`     |
| 键默认值为 list/int/set | `defaultdict` |

------

# easy [242. Valid Anagram](https://leetcode.com/problems/valid-anagram/)

## decription

Given two strings `s` and `t`, return `true` if `t` is an anagram of `s`, and `false` otherwise.

**Example 1:**

**Input:** s = "anagram", t = "nagaram"

**Output:** true

**Example 2:**

**Input:** s = "rat", t = "car"

**Output:** false

## solution

```python
class Solution:
    def isAnagram(self, s: str, t: str) -> bool:
        return Counter(s) == Counter(t)
```

## after

### ✅ 1. 判断字典 A 是否包含字典 B 的所有键和值

意思是：B 的所有键在 A 中也有，且对应的值一样。

#### 示例：

```
python


CopyEdit
a = {'x': 1, 'y': 2, 'z': 3}
b = {'x': 1, 'y': 2}
```

判断：`a` 是否包含 `b`

#### ✅ 方法：

```
python


CopyEdit
def dict_contains(a, b):
    return all(k in a and a[k] == v for k, v in b.items())

print(dict_contains(a, b))  # True
```

------

### ✅ 2. Counter` 的包含判断（频率型字典）

```
python


CopyEdit
from collections import Counter

c1 = Counter("banana")
c2 = Counter("ana")

print(c1 >= c2)  # True，意思是 c1 包含 c2 的所有字符计数
```

# easy [1002. Find Common Characters](https://leetcode.com/problems/find-common-characters/)

## decription

Given a string array `words`, return *an array of all characters that show up in all strings within the* `words` *(including duplicates)*. You may return the answer in **any order**.

**Example 1:**

```
Input: words = ["bella","label","roller"]
Output: ["e","l","l"]
```

**Example 2:**

```
Input: words = ["cool","lock","cook"]
Output: ["c","o"]
```

## solution

```python
class Solution:
    def commonChars(self, words: List[str]) -> List[str]:
        
        result = []
        first = Counter(words[0])
        length = len(words)

        if length == 1:
            for k,v in first.items():
                for i in range(v):
                    result.append(k)
        else:
            for word in words[1:]:
                first &= Counter(word)
            for k,v in first.items():
                for i in range(v):
                    result.append(k)
        
        return result
            
```

## after

写的很杂,主要是如果像cool这样,比如要统计两个o

<img src="assets/image-20250619115908610.png" alt="image-20250619115908610" width="50%;" />

看了一下别人的写法:

```python
from typing import List

class Solution:
    def commonChars(self, words: List[str]) -> List[str]:
        if len(words) == 1:
            return list(words[0])
        
        res = []
        word1 = set(words[0])
        for char in word1:
            frequency = min([word.count(char) for word in words])
            res += [char] * frequency
        return res
```

# easy [242. Valid Anagram](https://leetcode.com/problems/valid-anagram/)

## decription



## solution



## after


# æ€»ç»“

 Python ä¸­å¸¸è§å“ˆå¸Œç»“æ„ï¼ˆ`dict`ã€`set`ã€`Counter`ã€`defaultdict`ï¼‰çš„å¸¸ç”¨æ–¹æ³•å’Œç”¨æ³•æ€»ç»“ğŸ‘‡

------

## âœ… `dict`ï¼ˆå­—å…¸ï¼‰

å­—å…¸æ˜¯é”®å€¼å¯¹çš„é›†åˆï¼Œkey å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹ï¼Œvalue ä»»æ„ã€‚

### å¸¸ç”¨æ–¹æ³•ï¼š

| æ–¹æ³•                  | ä½œç”¨              | ç¤ºä¾‹                    |
| --------------------- | ----------------- | ----------------------- |
| `d[key]`              | å–å€¼              | `d['a']`                |
| `d[key] = value`      | æ–°å¢æˆ–ä¿®æ”¹        | `d['a'] = 10`           |
| `d.get(key, default)` | å®‰å…¨å–å€¼          | `d.get('b', 0)`         |
| `d.pop(key)`          | åˆ é™¤å¹¶è¿”å›é”®å€¼    | `d.pop('a')`            |
| `d.keys()`            | è¿”å›æ‰€æœ‰ key      | `for k in d.keys()`     |
| `d.values()`          | è¿”å›æ‰€æœ‰ value    | `for v in d.values()`   |
| `d.items()`           | è¿”å› key-value å¯¹ | `for k, v in d.items()` |
| `key in d`            | åˆ¤æ–­ key æ˜¯å¦å­˜åœ¨ | `'a' in d`              |
| `len(d)`              | è·å–é”®å€¼å¯¹æ•°é‡    | `len(d)`                |

### ç¤ºä¾‹ï¼š

```python
d = {'a': 1, 'b': 2}
d['c'] = 3
print(d.get('d', 0))  # è¾“å‡º 0
for k, v in d.items():
    print(k, v)
```

------

## âœ… `set`ï¼ˆé›†åˆï¼‰

é›†åˆæ˜¯å­˜å‚¨**å”¯ä¸€å…ƒç´ **çš„æ•°æ®ç»“æ„ï¼Œåº•å±‚ä¹Ÿæ˜¯å“ˆå¸Œè¡¨ã€‚

### å¸¸ç”¨æ–¹æ³•ï¼š

| æ–¹æ³•                           | ä½œç”¨                   | ç¤ºä¾‹           |
| ------------------------------ | ---------------------- | -------------- |
| `s.add(x)`                     | æ·»åŠ å…ƒç´                | `s.add(3)`     |
| `s.remove(x)`                  | åˆ é™¤å…ƒç´ ï¼Œä¸å­˜åœ¨æŠ¥é”™   | `s.remove(2)`  |
| `s.discard(x)`                 | åˆ é™¤å…ƒç´ ï¼Œä¸å­˜åœ¨ä¸æŠ¥é”™ | `s.discard(2)` |
| `s.pop()`                      | éšæœºåˆ é™¤å¹¶è¿”å›ä¸€ä¸ªå…ƒç´  | `s.pop()`      |
| `x in s`                       | åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨       | `3 in s`       |
| `len(s)`                       | å…ƒç´ æ•°é‡               | `len(s)`       |
| `s.union(t)` æˆ– `s             | t`                     | å¹¶é›†           |
| `s.intersection(t)` æˆ– `s & t` | äº¤é›†                   | `s & t`        |
| `s.difference(t)` æˆ– `s - t`   | å·®é›†                   | `s - t`        |

### ç¤ºä¾‹ï¼š

```python
s = {1, 2, 3}
s.add(4)
s.discard(2)
print(3 in s)  # True
```

------

## âœ… `collections.Counter`

ç”¨äºç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°ï¼ˆå“ˆå¸Œè®¡æ•°å™¨ï¼‰ã€‚

### å¸¸ç”¨æ–¹æ³•ï¼š

| æ–¹æ³•               | ä½œç”¨                       | ç¤ºä¾‹                       |
| ------------------ | -------------------------- | -------------------------- |
| `Counter(list)`    | ç»Ÿè®¡é¢‘ç‡                   | `Counter(['a', 'b', 'a'])` |
| `c[key]`           | è·å–æŸå…ƒç´ æ¬¡æ•°             | `c['a']`                   |
| `c.most_common(n)` | è¿”å›é¢‘ç‡æœ€é«˜çš„ n ä¸ªå…ƒç´     | `c.most_common(2)`         |
| `c.elements()`     | è¿”å›æ‰€æœ‰å…ƒç´ ï¼ˆæŒ‰æ¬¡æ•°é‡å¤ï¼‰ | `list(c.elements())`       |

### ç¤ºä¾‹ï¼š

```python
from collections import Counter

c = Counter("banana")
print(c)  # Counter({'a': 3, 'n': 2, 'b': 1})
print(c['a'])  # 3
```

------

## âœ… `collections.defaultdict`

å¸¦é»˜è®¤å€¼çš„å­—å…¸ï¼Œé¿å… `KeyError`ã€‚

### å¸¸ç”¨æ–¹æ³•ï¼š

å’Œ `dict` ç±»ä¼¼ï¼Œä½†ä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªé»˜è®¤ç±»å‹ï¼Œå¦‚ `int`, `list`, `set`ã€‚

### ç¤ºä¾‹ï¼š

```python
from collections import defaultdict

d = defaultdict(int)
d['a'] += 1  # è‡ªåŠ¨åˆå§‹åŒ–ä¸º0å†åŠ 1

e = defaultdict(list)
e['nums'].append(5)  # è‡ªåŠ¨åˆå§‹åŒ–ä¸ºç©ºåˆ—è¡¨
```

------

## ğŸ§  å»ºè®®

| ç›®æ ‡                    | æ¨èç»“æ„      |
| ----------------------- | ------------- |
| å­˜é”®å€¼å¯¹                | `dict`        |
| å¿«é€Ÿåˆ¤æ–­æ˜¯å¦å­˜åœ¨        | `set`         |
| ç»Ÿè®¡é¢‘ç‡                | `Counter`     |
| é”®é»˜è®¤å€¼ä¸º list/int/set | `defaultdict` |

------

# easy [242. Valid Anagram](https://leetcode.com/problems/valid-anagram/)

## decription

Given two strings `s` and `t`, return `true` if `t` is an anagram of `s`, and `false` otherwise.

**Example 1:**

**Input:** s = "anagram", t = "nagaram"

**Output:** true

**Example 2:**

**Input:** s = "rat", t = "car"

**Output:** false

## solution

```python
class Solution:
    def isAnagram(self, s: str, t: str) -> bool:
        return Counter(s) == Counter(t)
```

## after

### âœ… 1. åˆ¤æ–­å­—å…¸ A æ˜¯å¦åŒ…å«å­—å…¸ B çš„æ‰€æœ‰é”®å’Œå€¼

æ„æ€æ˜¯ï¼šB çš„æ‰€æœ‰é”®åœ¨ A ä¸­ä¹Ÿæœ‰ï¼Œä¸”å¯¹åº”çš„å€¼ä¸€æ ·ã€‚

#### ç¤ºä¾‹ï¼š

```
python


CopyEdit
a = {'x': 1, 'y': 2, 'z': 3}
b = {'x': 1, 'y': 2}
```

åˆ¤æ–­ï¼š`a` æ˜¯å¦åŒ…å« `b`

#### âœ… æ–¹æ³•ï¼š

```
python


CopyEdit
def dict_contains(a, b):
    return all(k in a and a[k] == v for k, v in b.items())

print(dict_contains(a, b))  # True
```

------

### âœ… 2. Counter` çš„åŒ…å«åˆ¤æ–­ï¼ˆé¢‘ç‡å‹å­—å…¸ï¼‰

```
python


CopyEdit
from collections import Counter

c1 = Counter("banana")
c2 = Counter("ana")

print(c1 >= c2)  # Trueï¼Œæ„æ€æ˜¯ c1 åŒ…å« c2 çš„æ‰€æœ‰å­—ç¬¦è®¡æ•°
```

# easy [1002. Find Common Characters](https://leetcode.com/problems/find-common-characters/)

## decription

Given a string array `words`, return *an array of all characters that show up in all strings within the* `words` *(including duplicates)*. You may return the answer in **any order**.

**Example 1:**

```
Input: words = ["bella","label","roller"]
Output: ["e","l","l"]
```

**Example 2:**

```
Input: words = ["cool","lock","cook"]
Output: ["c","o"]
```

## solution

```python
class Solution:
    def commonChars(self, words: List[str]) -> List[str]:
        
        result = []
        first = Counter(words[0])
        length = len(words)

        if length == 1:
            for k,v in first.items():
                for i in range(v):
                    result.append(k)
        else:
            for word in words[1:]:
                first &= Counter(word)
            for k,v in first.items():
                for i in range(v):
                    result.append(k)
        
        return result
            
```

## after

å†™çš„å¾ˆæ‚,ä¸»è¦æ˜¯å¦‚æœåƒcoolè¿™æ ·,æ¯”å¦‚è¦ç»Ÿè®¡ä¸¤ä¸ªo

<img src="assets/image-20250619115908610.png" alt="image-20250619115908610" width="50%;" />

çœ‹äº†ä¸€ä¸‹åˆ«äººçš„å†™æ³•:

```python
from typing import List

class Solution:
    def commonChars(self, words: List[str]) -> List[str]:
        if len(words) == 1:
            return list(words[0])
        
        res = []
        word1 = set(words[0])
        for char in word1:
            frequency = min([word.count(char) for word in words])
            res += [char] * frequency
        return res
```

# easy [242. Valid Anagram](https://leetcode.com/problems/valid-anagram/)

## decription



## solution



## after

